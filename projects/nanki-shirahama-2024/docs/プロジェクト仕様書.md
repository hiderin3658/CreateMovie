# 白浜観光AIアニメコンペ プロジェクト仕様書

## 用語定義

### カット (Cut) の定義
このプロジェクトにおける「**1カット**」とは、**10秒の連続した動画1本**を指します。

- **1カット** = **1本の完成した10秒動画**（連続映像）
- カット内での場面転換（カット割り）は**不要**
- 各カットは独立した1本の動画として扱われます

### プロジェクト構成
- **白浜プロジェクト**: **4カット**（4本の動画）
  - 4カット × 10秒 = **40秒の動画コンテンツ**
- **通常プロジェクト**: **8カット**（8本の動画）
  - 8カット × 10秒 = **80秒の動画コンテンツ**

> **重要**: 各カットは1本の連続した映像であり、内部でカット割り（場面転換）を行いません。
> 各カット内の時間表記（例: 0-3秒、3-7秒）は、映像の**流れ**や**演出の展開**を示すものであり、
> カット分割を意味するものではありません。

---

## プロジェクト概要

### コンペティション情報
- **タイトル**: 行ってみたい白浜
- **テーマ**: 白浜の観光写真をベースに30秒アニメを制作
- **目的**: 和歌山・白浜の観光資源をAIアニメで表現し、若年層から海外観光客まで白浜の魅力を拡散
- **期待効果**: AIの力で地方創生を支援

### 制作要件

#### 動画仕様
- **総カット数**: 4カット（4本の動画）
- **各カット長**: 10秒（連続映像）
- **総コンテンツ時間**: 40秒（編集後約30秒に調整予定）
- **形式**: ショート動画（縦型 9:16 推奨）
- **配信**: SNS（TikTok、Instagram Reels、YouTube Shorts）

**構成の考え方**:
- 各カットは独立した10秒の連続映像として生成
- 最終編集でトランジションやタイミング調整により約30秒に仕上げ
- 各カット内では場面転換（カット割り）を行わない

#### 素材制約
- **提供素材**: 白浜の観光写真 16枚（`source_materials/raw/` に配置済み）
- **使用ルール**:
  - **提供写真を背景として必ず使用**（必須条件）
  - 写真に映っているモチーフは変更（改変）禁止
  - 写真をアニメ化して背景として使用
  - 登場人物を追加可能
  - 「白浜に行ってみたい」と思わせる演出

**背景使用の前提**:
- **全4カットで提供された16枚の写真を背景として使用**
- 複数のカットで同じ背景を使用することは可能
- ストーリー構成は提供写真の内容に基づいて考える
- AI生成で完全に新しい背景を作成することは禁止
- 提供写真をベースにアニメ化処理を行う

#### クリエイティブ要件
- 登場人物: 観光客（若者、カップル、ファミリー等）
- 視点: 観光体験を疑似体験できる一人称または三人称
- 感情: ワクワク、発見、感動、癒し
- 訴求: 「行ってみたい」「体験したい」という旅行意欲の喚起

---

## 動画構成案

### 4カットのストーリーアーク

各カットは**10秒の連続映像**として制作されます。
以下の時間表記は、各カット内での**映像の流れ・演出の展開**を示しています。

#### カット1 (Video 1): "出会いの予感" (10秒の連続映像)
**テーマ**: 白浜との最初の出会い

**映像の流れ**:
- **0-3秒**: 白良浜の白い砂浜（遠景から始まる）
- **3-7秒**: 主人公が砂浜を歩く様子（足元クローズアップ → 全身へとカメラが引く）
- **7-10秒**: 海を見つめる主人公（期待感を表現）

> この10秒は**1本の連続した映像**として生成されます。場面転換はありません。

**使用背景**:
- 提供写真から選択: 白良浜、海岸線カテゴリの写真 3-4枚
- これらの写真をアニメ化して背景として使用
- 写真のモチーフ（砂浜、海、空など）は保持

**ムード**: 期待、ワクワク
**音楽**: 爽やか、軽快なイントロ

---

#### カット2 (Video 2): "自然の驚き" (10秒の連続映像)
**テーマ**: 白浜の自然美との出会い

**映像の流れ**:
- **0-3秒**: 円月島のシルエット（夕暮れの景色から始まる）
- **3-7秒**: 主人公が写真を撮る動作（自然な動きで繋がる）
- **7-10秒**: 千畳敷の岩場をゆっくりパン（カメラワークで展開）

> この10秒は**1本の連続した映像**として生成されます。場面転換はありません。

**使用背景**:
- 提供写真から選択: 円月島、千畳敷、三段壁など自然景観カテゴリの写真 3-4枚
- これらの写真をアニメ化して背景として使用
- 写真のモチーフ（岩場、島、崖など）は保持

**ムード**: 感動、畏敬
**音楽**: 壮大、エモーショナル

---

#### カット3 (Video 3): "体験の楽しみ" (10秒の連続映像)
**テーマ**: アクティビティと地域体験

**映像の流れ**:
- **0-3秒**: アドベンチャーワールドのパンダ（可愛らしい様子から始まる）
- **3-7秒**: 主人公が温泉に浸かる様子（露天風呂でリラックス）
- **7-10秒**: 地元グルメを食べる笑顔（満足感を表現）

> この10秒は**1本の連続した映像**として生成されます。場面転換はありません。

**使用背景**:
- 提供写真から選択: 観光施設、温泉、グルメカテゴリの写真 3-4枚
- これらの写真をアニメ化して背景として使用
- 写真のモチーフ（パンダ、温泉、料理など）は保持

**ムード**: 楽しい、満足
**音楽**: ポップ、リズミカル

---

#### カット4 (Video 4): "もう一度来たい" (10秒の連続映像)
**テーマ**: 白浜の魅力の集大成

**映像の流れ**:
- **0-3秒**: 夕日に染まる白良浜（美しい夕景から始まる）
- **3-7秒**: 主人公が振り返る様子（複数の思い出シーンの重ね合わせ表現）
- **7-10秒**: 「また来たい」という想いを込めて手を振る（余韻を残す）

> この10秒は**1本の連続した映像**として生成されます。場面転換はありません。

**使用背景**:
- 提供写真から選択: 印象的なシーンの再登場（ビーチ、自然景観など） 3-4枚
- これらの写真をアニメ化して背景として使用
- 写真のモチーフは保持し、カット1や2で使用した背景の再利用も可

**ムード**: 余韻、感謝、希望
**音楽**: エンディング、感動的

---

## 技術仕様

### 画像処理パイプライン

```
提供写真16枚 → 背景アニメ化 → キャラクター合成 → モーション適用 → 最終レンダリング
 (必須素材)        ↓              ↓                ↓             ↓
source_materials/  AIアニメ化      Stable Diffusion    I2V変換      編集統合
    raw/       (style transfer)   (inpainting)      (Runway/Pika)
              モチーフ保持
```

**重要な前提**:
- 提供された16枚の写真を必ず背景として使用
- AI生成で完全に新しい背景を作成しない
- アニメ化は写真をベースにしたスタイル変換のみ

### 使用AIツール

1. **第一フレーム画像生成**（キーフレーム作成）
   - ツール: **Gemini 2.5 Flash Image** (Google)
   - 用途: 各カットの第一フレーム画像を生成
   - **参照画像**: 最大3枚まで使用可能
     - キャラクター参照: 1-2枚（一貫性維持）
     - スタイル参照: 1枚（アニメスタイル）
     - 背景参照: 提供写真から選択
   - **コスト**: $0.039/画像 + 参照画像トークンコスト（約$0.0003/枚、無視できるレベル）
   - **制限**: プロンプトあたり最大3枚の参照画像（API仕様）
   - **トークン計算**: 1024×1024画像 = 1,032トークン（入力）、1,290トークン（出力）
   - 設定: テキストプロンプト + 参照画像でスタイル統一

2. **背景アニメ化**（提供写真ベース）
   - ツール: Stable Diffusion (LoRA: anime style)
   - 入力: 提供された観光写真16枚（`source_materials/raw/`）
   - プロンプト: "anime style, preserving composition, [location description]"
   - 設定: img2img, denoising strength 0.3-0.5
   - **重要**: 提供写真のモチーフを保持したまま、アニメ風スタイルに変換

3. **キャラクター生成**（代替手段）
   - ツール: Stable Diffusion XL / Midjourney
   - キャラクター一貫性: ControlNet (reference)
   - ポーズ制御: ControlNet (OpenPose)

4. **動画化**
   - ツール: Runway Gen-3 / Pika Labs / Stable Video Diffusion
   - モーション: Camera movement + character animation
   - 推奨モデル: Runway Gen-3 (高品質、カメラワーク制御)

5. **音楽**
   - ツール: Suno AI
   - スタイル: J-Pop, Cinematic, 爽やか
   - BPM: 120-140 (Video 1-3), 90-100 (Video 4)

---

## 素材管理仕様

### フォルダ構造

```
projects/nanki-shirahama-2024/
├── source_materials/           # 提供素材
│   ├── raw/                    # オリジナル写真（16枚）
│   │   ├── beach/              # 白良浜系（4-5枚）
│   │   ├── nature/             # 自然景観（4-5枚）
│   │   ├── attractions/        # 観光施設（4-5枚）
│   │   └── culture/            # 文化・グルメ（2-3枚）
│   │
│   ├── analyzed/               # AI解析結果
│   │   └── material_analysis.json
│   │
│   └── metadata/               # メタデータ
│       └── photo_descriptions.yaml
│
├── generated/                  # 生成物
│   ├── backgrounds/            # アニメ化背景
│   │   ├── video1/
│   │   ├── video2/
│   │   ├── video3/
│   │   └── video4/
│   │
│   ├── characters/             # キャラクター素材
│   │   └── tourist_character_sheet.png
│   │
│   ├── storyboards/            # 絵コンテ
│   │   ├── video1_storyboard.json
│   │   ├── video2_storyboard.json
│   │   ├── video3_storyboard.json
│   │   └── video4_storyboard.json
│   │
│   ├── frames/                 # 最終フレーム
│   │   ├── video1/
│   │   ├── video2/
│   │   ├── video3/
│   │   └── video4/
│   │
│   └── music/                  # 音楽プロンプト
│       └── music_prompts.json
│
├── workspace/                  # 作業用
│   ├── composites/             # 合成作業中
│   ├── tests/                  # テスト生成
│   └── cache/                  # キャッシュ
│
├── submission/                 # 提出用
│   ├── final_videos/           # 最終動画
│   │   ├── video1_encounter.mp4
│   │   ├── video2_nature.mp4
│   │   ├── video3_experience.mp4
│   │   └── video4_farewell.mp4
│   │
│   ├── combined/               # 統合版
│   │   └── shirahama_complete_30s.mp4
│   │
│   └── documents/              # 提出書類
│       ├── concept_doc.pdf
│       └── material_usage_report.pdf
│
└── config.yaml                 # プロジェクト設定
```

### 素材分類基準

#### カテゴリ分類
```yaml
categories:
  beach:
    - 白良浜の砂浜
    - 海岸線
    - 波打ち際
    priority: high
    video_assignment: [1, 4]

  nature:
    - 円月島
    - 千畳敷
    - 三段壁
    - 自然の岩場
    priority: high
    video_assignment: [2]

  attractions:
    - アドベンチャーワールド
    - 温泉施設
    - ホテル・旅館
    priority: medium
    video_assignment: [3]

  culture:
    - 地元グルメ
    - 土産物
    - 歴史的建造物
    priority: medium
    video_assignment: [3]
```

#### 素材品質評価
```yaml
quality_criteria:
  resolution: min 1920x1080
  composition: rule_of_thirds preferred
  lighting: natural light preferred
  clarity: sharp focus required
  usage_restrictions:
    - no_logo_alteration
    - preserve_landmarks
    - maintain_original_composition
```

---

## キャラクター設計

### メインキャラクター: "旅する少女"

**ビジュアル設定**:
- 年齢: 18-22歳（大学生風）
- 髪型: ロングヘア、ポニーテール
- 服装: カジュアル（Tシャツ + デニム or ワンピース）
- 持ち物: スマホ、カメラ、バックパック
- 表情: 明るく好奇心旺盛

**キャラクター一貫性**:
```python
character_prompt = """
anime style, young woman, 20 years old,
long brown hair in ponytail,
wearing casual summer clothes (white t-shirt, denim shorts),
carrying small backpack,
bright smile, energetic expression,
tourist visiting beach resort,
consistent character design across all scenes
"""
```

**ControlNet設定**:
- Reference: キャラクターシート画像
- Weight: 0.8-1.0
- Style: Anime/illustration

---

## ワークフロー

### Phase 1: 素材準備（1日目）

1. **素材整理**
   ```bash
   python tools/organize_materials.py \
     --input /path/to/shirahama_photos \
     --output projects/nanki-shirahama-2024/source_materials/raw
   ```

2. **素材解析**
   ```bash
   python tools/analyze_materials.py \
     --project nanki-shirahama-2024
   ```

3. **カテゴリ分類**
   - AI自動分類
   - 手動確認・調整

### Phase 2: キャラクター作成（1日目）

1. **キャラクターデザイン**
   ```bash
   python tools/create_character.py \
     --style anime \
     --age 20 \
     --output projects/nanki-shirahama-2024/generated/characters/
   ```

2. **ポーズバリエーション生成**
   - 歩く、立つ、座る
   - 写真を撮る、食べる
   - 振り返る、手を振る

### Phase 3: 背景アニメ化（2日目）

1. **提供写真のアニメ化**
   ```bash
   python tools/anime_style_transfer.py \
     --input projects/nanki-shirahama-2024/source_materials/raw \
     --output projects/nanki-shirahama-2024/generated/backgrounds \
     --style anime \
     --preserve-composition true \
     --preserve-motifs true
   ```

2. **品質チェック**
   - **提供写真のモチーフが保持されているか確認**
   - 色調の統一性確認
   - 全16枚の写真がアニメ化されているか確認
   - 各写真のカテゴリ分類が正しいか確認

### Phase 4: 絵コンテ生成（2日目）

1. **Video 1-4の絵コンテ作成**
   ```bash
   python scripts/generate_storyboard_v2.py \
     --project nanki-shirahama-2024 \
     --video-id 1 \
     --theme tourism-shirahama \
     --use-provided-backgrounds true
   ```

2. **提供写真の背景マッピング**
   - **各カットに提供写真16枚から最適な背景を割り当て**
   - カット1: 白良浜・海岸線の写真3-4枚
   - カット2: 自然景観の写真3-4枚
   - カット3: 観光施設・温泉・グルメの写真3-4枚
   - カット4: 印象的なシーンの再登場3-4枚
   - キャラクター配置を決定
   - **ストーリーを提供写真の内容に合わせて構成**

### Phase 5: 合成とレンダリング（3日目）

1. **キャラクター合成**
   ```bash
   python tools/composite_character.py \
     --storyboard projects/nanki-shirahama-2024/generated/storyboards/video1_storyboard.json \
     --character projects/nanki-shirahama-2024/generated/characters/ \
     --backgrounds projects/nanki-shirahama-2024/generated/backgrounds/
   ```

2. **I2V変換**
   - Runway Gen-3で動画化
   - カメラワーク適用

### Phase 6: 編集と完成（4日目）

1. **動画編集**
   - 各10秒動画の仕上げ
   - トランジション追加
   - テキストオーバーレイ

2. **音楽統合**
   - Suno AIで生成した音楽を配置
   - タイミング調整

3. **最終レビュー**
   - 30秒統合版作成
   - 提出書類準備

---

## 制作スケジュール

| 日程 | タスク | 成果物 |
|-----|--------|--------|
| Day 1 | 素材整理・解析、キャラクター作成 | 素材分類完了、キャラクターシート |
| Day 2 | 背景アニメ化、絵コンテ生成 | アニメ背景16枚、4カット分の絵コンテ |
| Day 3 | 合成・I2V変換 | 4カット（各10秒）の連続動画 |
| Day 4 | 編集・仕上げ・提出準備 | 最終動画4カット、統合版（約30秒）、提出書類 |

**制作の考え方**:
- 各カットは10秒の連続映像として独立して生成
- カット内での場面転換（カット割り）は行わない
- 最終編集で4カットを統合し、約30秒の完成版を作成

---

## チェックリスト

### 制作前確認
- [ ] 提供写真16枚の受領確認（`source_materials/raw/` に配置）
- [ ] 各写真のカテゴリ分類（beach/nature/attractions/culture）
- [ ] 各写真のメタデータ記録
- [ ] 各カットで使用する背景写真の選定
- [ ] コンペ規約の最終確認
- [ ] AIツールのライセンス確認

### 制作中確認
- [ ] **全カットで提供写真を背景として使用しているか確認**
- [ ] 提供写真のモチーフの改変がないか確認
- [ ] アニメ化が写真ベースのスタイル変換になっているか確認
- [ ] キャラクター一貫性の維持
- [ ] 各カット10秒の連続映像として生成
- [ ] カット内での場面転換（カット割り）がないか確認
- [ ] 縦型フォーマット (9:16) 確認

### 提出前確認
- [ ] 全4カットの動画品質チェック（各10秒の連続映像）
- [ ] **提供写真16枚の使用状況確認**（どの写真をどのカットで使用したか）
- [ ] 統合版（約30秒）の品質チェック
- [ ] 音楽の著作権クリア確認
- [ ] ファイル形式・サイズ確認
- [ ] 素材使用レポート作成（提供写真の使用状況を含む）
- [ ] コンセプトドキュメント作成

---

## リスクと対策

| リスク | 発生確率 | 影響度 | 対策 |
|--------|---------|--------|-----|
| アニメ化でモチーフが変形 | 中 | 高 | denoising strength調整、手動修正 |
| キャラクター一貫性が崩れる | 中 | 中 | ControlNet強化、複数生成から選択 |
| I2V変換が不自然 | 高 | 中 | モーション強度調整、カット分割 |
| 制作時間不足 | 中 | 高 | 優先順位付け、段階的完成 |
| API制限到達 | 低 | 中 | 事前テスト、バックアッププラン |

---

## 予算見積もり

### AI生成コスト

**画像生成（Gemini 2.5 Flash Image）**:
- 第一フレーム生成: $0.039/画像 × 4カット = **$0.156**
- 参照画像（最大3枚/カット）: 約$0.0009/カット × 4 = **$0.004**（無視できるレベル）
- 小計: **約$0.16**

**動画化（Runway Gen-3）**:
- I2V変換: $0.05/秒 × 40秒（4カット × 10秒） = **$2.00**

**その他**:
- **Suno AI**: 無料プラン
- **Stable Diffusion**: ローカル実行（無料）

### 総コスト: 約$2.16-5 (API制限回避用の追加クレジット含む)

**コスト計算の根拠**:
- 4カット × 10秒/カット = 40秒の動画コンテンツ
- 各カットは連続映像として生成されるため、カット数によるコスト増加はなし
- 参照画像のトークンコストは画像生成コストの約1%未満で、ほぼ無視できる

---

*プロジェクト仕様書 v1.3*
*作成日: 2024-11-08*
*更新日: 2025-11-09*
*プロジェクトID: nanki-shirahama-2024*

**v1.3 変更内容**:
- **画像生成モデルにGemini 2.5 Flash Imageを採用**
- 参照画像の仕様を明記（最大3枚、トークンコスト詳細）
- キャラクター参照（1-2枚）、スタイル参照（1枚）、背景参照の構成を定義
- コスト見積もりにGemini 2.5 Flash Imageの費用を追加
- 参照画像のトークンコストが無視できるレベルであることを明記

**v1.2 変更内容**:
- **提供写真の必須使用を明記**（白浜プロジェクトの重要な前提条件）
- 背景使用の前提を素材制約セクションに追加
- 各カットの使用背景を提供写真から選択する方針を明確化
- 技術仕様パイプラインに提供写真ベースの処理を追加
- チェックリストに背景使用確認項目を追加
- ワークフローに提供写真マッピングプロセスを追加

**v1.1 変更内容**:
- 用語定義セクションを追加（「カット」の明確な定義）
- 各カットが10秒の連続映像であることを明記
- カット内での場面転換（カット割り）が不要であることを明確化
- 全4カット = 40秒のコンテンツ（編集後約30秒）の説明を追加
